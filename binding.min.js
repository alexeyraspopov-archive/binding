!function(a){"use strict";function b(a){var b,c,d=[],e=a.getElementsByTagName("*");for(b=0,c=e.length;c>b;b++)d.push(e[b]);return d}var c={},d={};c.adapter={watch:function(){throw new Error("You should declare binding adapter")},unwatch:function(){throw new Error("You should declare binding adapter")},read:function(a,b){return a[b]},write:function(a,b,c){a[b]=c}},c.apply=function(a,c){var e,f,g,h,i,j=b(c),k=[];for(g=0;g<j.length;g++)if(e=j[g],!(k.indexOf(e)>-1))for(f=Object.keys(e.dataset),h=0;h<f.length;h++)i=d[f[h]],i&&(i.scoped&&(k=k.concat(b(e))),i(e,a,e.dataset))},c.directive=function(a,b,c){d[a]=b,b.scoped=c},a("binding",c),c.directive("bind",function(a,b,d){c.adapter.watch(b,d.bind,function(b){a.textContent=b})}),c.directive("click",function(a,b,d){a.addEventListener("click",function(){c.adapter.write(b,d.click)})}),c.directive("model",function(a,b,d){var e="text"===a.type?"value":"checked";c.adapter.watch(b,d.model,function(b){a[e]=b}),a.addEventListener("change",function(){c.adapter.write(b,d.model,a[e])})}),c.directive("class",function(a,b,d){var e,f,g,h=d.class.split(/\s*,\s*/);for(g=function(d,e){c.adapter.watch(b,e,function(b){b=!!b,b?a.classList.add(d):a.classList.remove(d)})},e=0;e<h.length;e++)f=h[e].match(/^(.+):\s*(.+)$/),g(f[1],f[2])}),c.directive("repeat",function(a,b,d){var e=document.createComment(" repeat: "+d.repeat+" "),f=d.repeat.match(/^(.+)\s+in\s+(.+)$/),g=f[1],h=f[2],i=c.adapter.read(b,h),j=[],k=a.parentNode,l=[],m=0;k.insertBefore(e,a),k.removeChild(a),c.adapter.watch(b,function(){var a;if(i.length!==l.length)return++m;for(a=0;a<i.length;a++)if(i[a]!==l[a])return++m},function(){var d,f,h,m,n=[];for(d=0;d<l.length;d++)-1===i.indexOf(l[d])&&(k.removeChild(j[d]),n.push(l[d]));for(d=0;d<n.length;d++)m=l.indexOf(n[d]),l.splice(m,1),j.splice(m,1);for(d=0;d<i.length;d++)l.indexOf(i[d])>-1||(f=a.cloneNode(!0),h=Object.create(b),h[g]=i[d],c.apply(h,f),k.insertBefore(f,e.nextElementSibling),j.push(f),l.push(i[d]))})},!0)}(function(a,b){"function"==typeof define&&define.amd?define(function(){return b}):"object"==typeof window?window[a]=b:module.exports=b});