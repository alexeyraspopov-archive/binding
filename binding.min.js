!function(a){"use strict";function b(a){var b,c,d=[],e=a.getElementsByTagName("*");for(b=0,c=e.length;c>b;b++)d.push(e[b]);return d}var c={},d={};c.adapter={scope:function(a){return a},watch:function(){throw new Error("You should declare binding adapter")},read:function(a,b){return a[b]},write:function(a,b,c){a[b]=c}},c.apply=function(a,e){var f,g,h,i,j=b(e),k=[];for(a=c.adapter.scope(a),h=0;h<j.length;h++)if(f=j[h],!(k.indexOf(f)>-1))for(g=Object.keys(f.dataset),i=0;i<g.length;i++)directive=d[g[i]],directive&&(directive.scoped&&(k=k.concat(b(f))),directive(f,a,f.dataset))},c.directive=function(a,b,c){d.hasOwnProperty(a)||(d[a]=b,b.scoped=c)},a("binding",c),c.directive("bind",function(a,b,d){c.adapter.watch(d.bind,function(b){a.textContent=b})}),c.directive("click",function(a,b,d){a.addEventListener("click",function(){c.adapter.write(d.click)})}),c.directive("model",function(a,b,d){var e="text"===a.type?"value":"checked";c.adapter.watch(d.model,function(b){a[e]=b}),a.addEventListener("change",function(){c.adapter.write(d.model,a[e])})}),c.directive("class",function(a,b,d){var e,f,g,h=d.class.split(/\s*,\s*/);for(g=function(b,d){c.adapter.watch(d,function(c){c=!!c,c?a.classList.add(b):a.classList.remove(b)})},e=0;e<h.length;e++)f=h[e].match(/^(.+):\s*(.+)$/),g(f[1],f[2])}),c.directive("repeat",function(a,b,d){var e=document.createComment(" repeat: "+d.repeat+" "),f=d.repeat.match(/^(.+)\s+in\s+(.+)$/),g=f[1],h=f[2],i=b.get(h),j=[],k=a.parentNode,l=[],m=0;k.insertBefore(e,a),k.removeChild(a),c.adapter.watch(function(){var a;if(i.length!==l.length)return++m;for(a=0;a<i.length;a++)if(i[a]!==l[a])return++m},function(){var c,d,f,h,m=[];for(c=0;c<l.length;c++)-1===i.indexOf(l[c])&&(k.removeChild(j[c]),m.push(l[c]));for(c=0;c<m.length;c++)h=l.indexOf(m[c]),l.splice(h,1),j.splice(h,1);for(c=0;c<i.length;c++)l.indexOf(i[c])>-1||(d=a.cloneNode(!0),f=b.new(),f[g]=i[c],bind(f,d),k.insertBefore(d,e.nextElementSibling),j.push(d),l.push(i[c]))})},!0)}(function(a,b){"function"==typeof define&&define.amd?define(function(){return b}):"object"==typeof window?window[a]=b:module.exports=b});